<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Quantum Scarring - Where Classical Chaos Meets Quantum Order</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    html { scroll-behavior: smooth; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #0a0e17;
      color: #e8eaed;
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    /* Section styling - clean, no gradients */
    section {
      min-height: 100vh;
      padding: 4rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    
    section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    .container {
      max-width: 900px;
      width: 100%;
    }
    
    /* Typography */
    h1 {
      font-size: clamp(2.5rem, 8vw, 5rem);
      font-weight: 800;
      margin-bottom: 1rem;
      color: #ffd166;
      text-align: center;
      line-height: 1.1;
    }
    
    h2 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: #ffd166;
      text-align: center;
    }
    
    h3 {
      font-size: 1.5rem;
      color: #ffd166;
      margin: 2rem 0 1rem;
    }
    
    p {
      font-size: 1.1rem;
      color: #b8c1cc;
      margin-bottom: 1rem;
      line-height: 1.8;
    }
    
    .highlight {
      background: rgba(255, 209, 102, 0.1);
      border-left: 3px solid #ffd166;
      padding: 1.5rem;
      margin: 2rem 0;
      border-radius: 4px;
    }
    
    .highlight strong {
      color: #ffd166;
    }
    
    /* Canvas containers - solid backgrounds */
    .canvas-container {
      width: 100%;
      max-width: 800px;
      height: 500px;
      margin: 2rem auto;
      background: #131820;
      border: 2px solid #1e2936;
      border-radius: 8px;
      position: relative;
      overflow: hidden;
    }
    
    canvas {
      width: 100%;
      height: 100%;
      display: block;
    }
    
    /* Buttons */
    .btn {
      display: inline-block;
      padding: 0.8rem 2rem;
      margin: 0.5rem;
      background: #ffd166;
      color: #0a0e17;
      border: none;
      border-radius: 50px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
    }
    
    .btn:hover {
      background: #ffb703;
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(255, 209, 102, 0.3);
    }
    
    .btn-secondary {
      background: transparent;
      border: 2px solid #ffd166;
      color: #ffd166;
    }
    
    .btn-secondary:hover {
      background: rgba(255, 209, 102, 0.1);
    }
    
    /* Controls */
    .controls {
      display: flex;
      gap: 1rem;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 1rem;
    }
    
    /* Progress indicator */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      height: 3px;
      background: #ffd166;
      z-index: 1000;
      transition: width 0.1s ease;
    }
    
    /* Section navigation dots */
    .nav-dots {
      position: fixed;
      right: 2rem;
      top: 50%;
      transform: translateY(-50%);
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .nav-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .nav-dot.active {
      background: #ffd166;
      transform: scale(1.3);
    }
    
    .nav-dot:hover {
      background: #ffd166;
    }
    
    /* Hero section */
    #hero {
      background: linear-gradient(135deg, #0a0e17 0%, #1a1f2e 100%);
      min-height: 100vh;
    }
    
    .hero-content {
      text-align: center;
    }
    
    .subtitle {
      font-size: 1.3rem;
      color: #8a95a5;
      margin-bottom: 2rem;
    }
    
    /* Chaos explanation */
    .two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin: 2rem 0;
    }
    
    @media (max-width: 768px) {
      .two-column {
        grid-template-columns: 1fr;
      }
      
      .nav-dots {
        right: 1rem;
      }
    }
    
    /* Info card */
    .info-card {
      background: #131820;
      border: 1px solid #1e2936;
      border-radius: 8px;
      padding: 1.5rem;
      margin: 1rem 0;
    }
    
    /* Instructions overlay */
    .instructions {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: rgba(19, 24, 32, 0.95);
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #ffd166;
      font-size: 0.9rem;
      max-width: 250px;
    }
    
    ul {
      margin-left: 1.5rem;
      color: #b8c1cc;
    }
    
    li {
      margin: 0.5rem 0;
    }
    
    strong {
      color: #ffd166;
    }
    
    /* Loading state */
    .loading {
      text-align: center;
      color: #8a95a5;
      padding: 2rem;
    }
  </style>
</head>
<body>
  <div class="progress-bar" id="progressBar"></div>
  
  <div class="nav-dots">
    <div class="nav-dot active" data-section="0"></div>
    <div class="nav-dot" data-section="1"></div>
    <div class="nav-dot" data-section="2"></div>
    <div class="nav-dot" data-section="3"></div>
    <div class="nav-dot" data-section="4"></div>
    <div class="nav-dot" data-section="5"></div>
  </div>

  <!-- Hero -->
  <section id="hero" class="visible">
    <div class="container hero-content">
      <h1>Quantum Scarring</h1>
      <p class="subtitle">Where Classical Chaos Leaves Its Mark on the Quantum World</p>
      <p style="max-width: 700px; margin: 0 auto 2rem;">In classical physics, chaos means unpredictability. In quantum mechanics, we expect smooth probability distributions. But quantum scars are something entirely unexpected: ghosts of classical order haunting quantum chaos.</p>
      <div>
        <a href="#chaos" class="btn">Start the Journey</a>
        <a href="#applications" class="btn btn-secondary">Why It Matters</a>
      </div>
    </div>
  </section>

  <!-- Classical Chaos -->
  <section id="chaos">
    <div class="container">
      <h2>Step 1: Understanding Classical Chaos</h2>
      
      <p>Before we dive into quantum scars, we need to understand chaos. Chaos doesn't mean "random" - it means <strong>extremely sensitive to initial conditions</strong>.</p>
      
      <div class="highlight">
        <p><strong>The Butterfly Effect:</strong> Two particles starting almost identically can end up in completely different places. This is what makes weather prediction so hard!</p>
      </div>

      <div class="canvas-container">
        <canvas id="chaosCanvas"></canvas>
        <div class="instructions">
          <strong>Try it:</strong> Click anywhere to launch particles. Watch how they quickly diverge!
        </div>
      </div>
      
      <div class="controls">
        <button class="btn" onclick="resetChaos()">Reset</button>
        <button class="btn btn-secondary" onclick="toggleChaos()">Pause/Play</button>
      </div>

      <div class="info-card">
        <h3>What You're Seeing</h3>
        <p>Three particles launched from nearly the same point. In a chaotic system like this stadium billiard, they bounce off walls unpredictably. Notice how they spread apart exponentially fast - this is chaos in action.</p>
      </div>
    </div>
  </section>

  <!-- Quantum Expectations -->
  <section id="quantum">
    <div class="container">
      <h2>Step 2: What We Expected in Quantum Systems</h2>
      
      <p>When physicists first studied the quantum version of chaotic systems, they had a clear expectation:</p>
      
      <div class="highlight">
        <p><strong>Expected result:</strong> Quantum particles should spread out uniformly, creating a smooth "sea" of probability. The chaos should erase any special structures.</p>
      </div>

      <div class="canvas-container">
        <canvas id="expectedCanvas"></canvas>
      </div>

      <div class="info-card">
        <h3>The Uniform Distribution</h3>
        <p>This is what physicists expected: a uniform probability distribution where the quantum particle is equally likely to be found anywhere in the system. No special patterns, no preferred locations - just smooth quantum chaos.</p>
      </div>
    </div>
  </section>

  <!-- The Discovery -->
  <section id="discovery">
    <div class="container">
      <h2>Step 3: The Shocking Discovery</h2>
      
      <p>But in 1984, physicist Eric Heller made a stunning discovery...</p>
      
      <div class="highlight">
        <p><strong>What he found:</strong> Some quantum states showed intense probability along specific paths - the exact paths of unstable classical orbits. These became known as <strong>quantum scars</strong>.</p>
      </div>

      <div class="canvas-container">
        <canvas id="scarCanvas"></canvas>
      </div>
      
      <div class="controls">
        <button class="btn" onclick="changeScar()">Show Different Scar</button>
        <button class="btn btn-secondary" onclick="toggleScarOverlay()">Toggle Classical Path</button>
      </div>

      <div class="info-card">
        <h3>Quantum Scars Revealed</h3>
        <p>The bright regions show where the quantum particle has high probability of being found. Notice how it follows a specific path - a "scar" left by a classical periodic orbit. It's as if the quantum particle "remembers" classical physics!</p>
        <ul>
          <li>The scar follows an unstable classical orbit</li>
          <li>It's not where the particle IS, but where it's most likely to be found</li>
          <li>Multiple quantum states can share similar scar patterns</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Why It Happens -->
  <section id="explanation">
    <div class="container">
      <h2>Step 4: Why Do Quantum Scars Exist?</h2>
      
      <p>Quantum scars arise from a beautiful interplay between classical and quantum mechanics:</p>
      
      <div class="two-column">
        <div class="info-card">
          <h3>Classical Picture</h3>
          <p>Even in chaos, there are special <strong>periodic orbits</strong> - closed paths that a particle can follow. These orbits are unstable (small deviations grow), but they exist.</p>
        </div>
        
        <div class="info-card">
          <h3>Quantum Interference</h3>
          <p>Quantum particles are waves. When many quantum paths pass near a classical periodic orbit, they can <strong>interfere constructively</strong>, creating enhanced probability along that orbit.</p>
        </div>
      </div>

      <div class="highlight">
        <p><strong>The Key Insight:</strong> Scars are quantum interference patterns organized by classical periodic orbits. They're a bridge between classical and quantum worlds - classical structure surviving in quantum mechanics.</p>
      </div>

      <div class="info-card">
        <h3>A Simple Analogy</h3>
        <p>Imagine a crowded train station (chaos). While individual people move randomly, certain paths (to exits, platforms) naturally concentrate more people. Quantum scars are like those well-worn paths - they emerge from the underlying structure despite the apparent chaos.</p>
      </div>
    </div>
  </section>

  <!-- Applications -->
  <section id="applications">
    <div class="container">
      <h2>Step 5: Why Quantum Scars Matter</h2>
      
      <p>Quantum scars aren't just a curiosity - they have real implications for cutting-edge technology:</p>

      <div class="info-card">
        <h3>1. Quantum Computing</h3>
        <p><strong>The Problem:</strong> Quantum computers need to maintain delicate quantum states, but environmental noise causes "decoherence" - the information gets scrambled.</p>
        <p><strong>The Opportunity:</strong> Quantum scars represent localized, persistent quantum states. If we can engineer systems with the right scars, we might "trap" quantum information in these stable patterns, protecting it from decoherence.</p>
      </div>

      <div class="info-card">
        <h3>2. Many-Body Quantum Scars</h3>
        <p><strong>Recent Discovery:</strong> In 2018, researchers found "many-body scars" in systems with many interacting particles.</p>
        <p><strong>Why It's Exciting:</strong> These scars prevent thermalization - the system doesn't reach thermal equilibrium as expected. This could enable long-lived quantum states for quantum memory and simulation.</p>
      </div>

      <div class="info-card">
        <h3>3. Trapped Ion Quantum Hardware</h3>
        <p><strong>The Connection:</strong> Ions trapped in electromagnetic fields behave like particles in quantum billiards - exactly the systems where scars appear!</p>
        <p><strong>The Application:</strong> By engineering trap geometries, we can control which scars appear, potentially improving qubit coherence times and gate fidelities.</p>
      </div>

      <div class="highlight">
        <p><strong>The Frontier:</strong> We're still discovering what quantum scars can do. This is a young field where fundamental physics meets practical quantum technology. Your expertise could help unlock their potential.</p>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section id="cta">
    <div class="container">
      <h2>This Is Where You Come In</h2>
      
      <p style="text-align: center; font-size: 1.2rem; margin-bottom: 2rem;">Quantum scarring is a rapidly evolving field that needs diverse expertise:</p>

      <div class="two-column">
        <div class="info-card">
          <h3>🔬 Experimental Physicists</h3>
          <p>Design trap geometries, measure scar properties, validate theoretical predictions in real quantum systems.</p>
        </div>
        
        <div class="info-card">
          <h3>💻 Computational Scientists</h3>
          <p>Simulate large quantum systems, identify scar patterns, optimize geometries for desired scar properties.</p>
        </div>
        
        <div class="info-card">
          <h3>📐 Theoretical Physicists</h3>
          <p>Develop semiclassical theories, predict new scar phenomena, connect to broader questions in quantum chaos.</p>
        </div>
        
        <div class="info-card">
          <h3>⚙️ Quantum Engineers</h3>
          <p>Implement scar-based designs in real quantum hardware, integrate with existing quantum computing architectures.</p>
        </div>
      </div>

      <div style="text-align: center; margin-top: 3rem;">
        <h3>Key Resources</h3>
        <p style="margin-bottom: 1rem;">Start your journey into quantum scarring:</p>
        <div class="controls">
          <a href="https://link.aps.org/doi/10.1103/PhysRevLett.53.1515" target="_blank" class="btn">Heller's Original Paper (1984)</a>
          <a href="https://arxiv.org/abs/2109.00548" target="_blank" class="btn btn-secondary">Many-Body Scars Review</a>
        </div>
      </div>

      <div class="highlight" style="margin-top: 3rem; text-align: center;">
        <p><strong>What will we discover next?</strong></p>
        <p>The story of quantum scars is still being written. Every breakthrough brings new questions, new possibilities, and new opportunities for innovation. The next chapter could be yours.</p>
      </div>
    </div>
  </section>

  <script>
    // Progress bar
    function updateProgress() {
      const scroll = window.scrollY;
      const height = document.documentElement.scrollHeight - window.innerHeight;
      const progress = (scroll / height) * 100;
      document.getElementById('progressBar').style.width = progress + '%';
    }

    window.addEventListener('scroll', updateProgress);

    // Section visibility on scroll
    const sections = document.querySelectorAll('section');
    const observerOptions = {
      threshold: 0.2,
      rootMargin: '0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          
          // Update nav dots
          const index = Array.from(sections).indexOf(entry.target);
          document.querySelectorAll('.nav-dot').forEach((dot, i) => {
            dot.classList.toggle('active', i === index);
          });
        }
      });
    }, observerOptions);

    sections.forEach(section => observer.observe(section));

    // Nav dot click handlers
    document.querySelectorAll('.nav-dot').forEach((dot, index) => {
      dot.addEventListener('click', () => {
        sections[index].scrollIntoView({ behavior: 'smooth' });
      });
    });

    // === CHAOS CANVAS ===
    const chaosCanvas = document.getElementById('chaosCanvas');
    const chaosCtx = chaosCanvas.getContext('2d');
    let chaosParticles = [];
    let chaosRunning = true;
    let chaosAnimationId;

    function resizeChaos() {
      const container = chaosCanvas.parentElement;
      const dpr = window.devicePixelRatio || 1;
      chaosCanvas.width = container.clientWidth * dpr;
      chaosCanvas.height = container.clientHeight * dpr;
      chaosCanvas.style.width = container.clientWidth + 'px';
      chaosCanvas.style.height = container.clientHeight + 'px';
      chaosCtx.scale(dpr, dpr);
    }

    class Particle {
      constructor(x, y, color) {
        this.x = x;
        this.y = y;
        const angle = Math.random() * Math.PI * 2;
        const speed = 3 + Math.random() * 2;
        this.vx = Math.cos(angle) * speed;
        this.vy = Math.sin(angle) * speed;
        this.color = color;
        this.trail = [];
        this.maxTrail = 80;
      }

      update() {
        this.trail.push({ x: this.x, y: this.y });
        if (this.trail.length > this.maxTrail) this.trail.shift();

        this.x += this.vx;
        this.y += this.vy;

        const w = chaosCanvas.clientWidth;
        const h = chaosCanvas.clientHeight;
        const margin = 50;

        // Stadium shape collision
        if (this.x < margin || this.x > w - margin) {
          this.vx *= -0.98;
          this.x = Math.max(margin, Math.min(w - margin, this.x));
        }
        if (this.y < margin || this.y > h - margin) {
          this.vy *= -0.98;
          this.y = Math.max(margin, Math.min(h - margin, this.y));
        }

        // Add slight chaos
        this.vx += (Math.random() - 0.5) * 0.1;
        this.vy += (Math.random() - 0.5) * 0.1;
      }

      draw() {
        // Draw trail
        chaosCtx.strokeStyle = this.color;
        chaosCtx.lineWidth = 1.5;
        chaosCtx.globalAlpha = 0.6;
        chaosCtx.beginPath();
        for (let i = 0; i < this.trail.length - 1; i++) {
          chaosCtx.moveTo(this.trail[i].x, this.trail[i].y);
          chaosCtx.lineTo(this.trail[i + 1].x, this.trail[i + 1].y);
        }
        chaosCtx.stroke();

        // Draw particle
        chaosCtx.globalAlpha = 1;
        chaosCtx.fillStyle = this.color;
        chaosCtx.beginPath();
        chaosCtx.arc(this.x, this.y, 4, 0, Math.PI * 2);
        chaosCtx.fill();
      }
    }

    function animateChaos() {
      if (!chaosRunning) {
        chaosAnimationId = null;
        return;
      }

      const w = chaosCanvas.clientWidth;
      const h = chaosCanvas.clientHeight;

      chaosCtx.fillStyle = 'rgba(19, 24, 32, 0.1)';
      chaosCtx.fillRect(0, 0, w, h);

      chaosParticles.forEach(p => {
        p.update();
        p.draw();
      });

      chaosAnimationId = requestAnimationFrame(animateChaos);
    }

    chaosCanvas.addEventListener('click', (e) => {
      const rect = chaosCanvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      
      const colors = ['#ffd166', '#06ffa5', '#ff6b6b'];
      for (let i = 0; i < 3; i++) {
        chaosParticles.push(new Particle(x + i * 2, y + i * 2, colors[i]));
      }
      
      if (!chaosAnimationId) {
        chaosRunning = true;
        animateChaos();
      }
    });

    function resetChaos() {
      chaosParticles = [];
      chaosCtx.fillStyle = '#131820';
      chaosCtx.fillRect(0, 0, chaosCanvas.clientWidth, chaosCanvas.clientHeight);
    }

    function toggleChaos() {
      chaosRunning = !chaosRunning;
      if (chaosRunning && !chaosAnimationId) animateChaos();
    }

    // === EXPECTED QUANTUM CANVAS ===
    const expectedCanvas = document.getElementById('expectedCanvas');
    const expectedCtx = expectedCanvas.getContext('2d');

    function resizeExpected() {
      const container = expectedCanvas.parentElement;
      const dpr = window.devicePixelRatio || 1;
      expectedCanvas.width = container.clientWidth * dpr;
      expectedCanvas.height = container.clientHeight * dpr;
      expectedCanvas.style.width = container.clientWidth + 'px';
      expectedCanvas.style.height = container.clientHeight + 'px';
      expectedCtx.scale(dpr, dpr);
      drawExpected();
    }

    function drawExpected() {
      const w = expectedCanvas.clientWidth;
      const h = expectedCanvas.clientHeight;
      
      // Create uniform noise pattern
      const imageData = expectedCtx.createImageData(w, h);
      for (let i = 0; i < imageData.data.length; i += 4) {
        const val = 100 + Math.random() * 50;
        imageData.data[i] = val * 0.4;
        imageData.data[i + 1] = val * 0.6;
        imageData.data[i + 2] = val;
        imageData.data[i + 3] = 255;
      }
      expectedCtx.putImageData(imageData, 0, 0);
      
      // Add text
      expectedCtx.fillStyle = 'rgba(255, 209, 102, 0.8)';
      expectedCtx.font = 'bold 24px sans-serif';
      expectedCtx.textAlign = 'center';
      expectedCtx.fillText('Expected: Uniform Probability', w / 2, h / 2);
    }

    // === SCAR CANVAS ===
    const scarCanvas = document.getElementById('scarCanvas');
    const scarCtx = scarCanvas.getContext('2d');
    let scarPattern = 0;
    let showOverlay = false;

    function resizeScar() {
      const container = scarCanvas.parentElement;
      const dpr = window.devicePixelRatio || 1;
      scarCanvas.width = container.clientWidth * dpr;
      scarCanvas.height = container.clientHeight * dpr;
      scarCanvas.style.width = container.clientWidth + 'px';
      scarCanvas.style.height = container.clientHeight + 'px';
      scarCtx.scale(dpr, dpr);
      drawScar();
    }

    function drawScar() {
      const w = scarCanvas.clientWidth;
      const h = scarCanvas.clientHeight;
      
      // Background
      scarCtx.fillStyle = '#131820';
      scarCtx.fillRect(0, 0, w, h);
      
      // Create scar pattern
      const centerX = w / 2;
      const centerY = h / 2;
      
      if (scarPattern === 0) {
        // Horizontal bowtie scar
        drawScarPath(scarCtx, [
          { x: centerX - 200, y: centerY },
          { x: centerX - 100, y: centerY - 80 },
          { x: centerX, y: centerY },
          { x: centerX + 100, y: centerY + 80 },
          { x: centerX + 200, y: centerY },
          { x: centerX + 100, y: centerY - 80 },
          { x: centerX, y: centerY },
          { x: centerX - 100, y: centerY + 80 },
          { x: centerX - 200, y: centerY }
        ], '#ffd166');
      } else if (scarPattern === 1) {
        // Circular scar
        for (let r = 80; r <= 180; r += 50) {
          const points = [];
          for (let angle = 0; angle < Math.PI * 2; angle += 0.1) {
            points.push({
              x: centerX + Math.cos(angle) * r,
              y: centerY + Math.sin(angle) * r
            });
          }
          drawScarPath(scarCtx, points, '#ffd166');
        }
      } else {
        // Diamond scar
        drawScarPath(scarCtx, [
          { x: centerX, y: centerY - 200 },
          { x: centerX + 150, y: centerY },
          { x: centerX, y: centerY + 200 },
          { x: centerX - 150, y: centerY },
          { x: centerX, y: centerY - 200 }
        ], '#ffd166');
      }
      
      // Classical orbit overlay
      if (showOverlay) {
        scarCtx.strokeStyle = 'rgba(255, 107, 107, 0.8)';
        scarCtx.lineWidth = 3;
        scarCtx.setLineDash([10, 5]);
        if (scarPattern === 0) {
          scarCtx.beginPath();
          scarCtx.moveTo(centerX - 200, centerY);
          scarCtx.lineTo(centerX + 200, centerY);
          scarCtx.stroke();
        }
        scarCtx.setLineDash([]);
      }
    }

    function drawScarPath(ctx, points, color) {
      // Draw glow
      for (let size = 40; size > 0; size -= 5) {
        ctx.strokeStyle = color + Math.floor((1 - size / 40) * 255).toString(16).padStart(2, '0');
        ctx.lineWidth = size;
        ctx.beginPath();
        ctx.moveTo(points[0].x, points[0].y);
        for (let i = 1; i < points.length; i++) {
          ctx.lineTo(points[i].x, points[i].y);
        }
        ctx.stroke();
      }
      
      // Draw core line
      ctx.strokeStyle = '#ffffff';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(points[0].x, points[0].y);
      for (let i = 1; i < points.length; i++) {
        ctx.lineTo(points[i].x, points[i].y);
      }
      ctx.stroke();
    }

    function changeScar() {
      scarPattern = (scarPattern + 1) % 3;
      drawScar();
    }

    function toggleScarOverlay() {
      showOverlay = !showOverlay;
      drawScar();
    }

    // Initialize all canvases
    window.addEventListener('load', () => {
      resizeChaos();
      resizeExpected();
      resizeScar();
      animateChaos();
    });

    window.addEventListener('resize', () => {
      resizeChaos();
      resizeExpected();
      resizeScar();
    });
  </script>
</body>
</html>
